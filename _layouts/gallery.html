---
layout: default
---

<!-- Page Header -->
{% if page.background %}
<header
  class="masthead {% if page.title == 'Birds' %}birds-collection{% endif %}{% if page.title == 'Past Works' %} past-works-collection{% endif %}"
  style="background-image: url(&quot;{{ page.background | prepend: site.baseurl | replace: '//', '/' }}&quot;)">
  {% else %}
  <header class="masthead">
    {% endif %}
    <div class="overlay"></div>
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          <div class="page-heading">
            <div class="webgl-text-root green-variant">
              <h1 class="webgl-source">{{ page.title }}</h1>
            </div>
            {% if page.description %}
            <div
              class="webgl-text-root-rgb collection-page"
              style="margin-top: 20px; min-height: 120px">
              <span class="subheading webgl-source" style="font-size: 48px"
                >{{ page.description }}</span
              >
            </div>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <article>
    <h3
      style="
        font-family: 'Humane', system-ui, -apple-system, 'Segoe UI', Roboto,
          Arial, sans-serif;
        font-weight: 100;
        font-size: 8rem;
        color: #f4bbff;
        text-align: center;
        margin-top: -120px;
        margin-bottom: 60px;
        letter-spacing: 0.15em;
        text-transform: uppercase;
        position: relative;
        z-index: 10;
      ">
      {{ page.title }}
    </h3>
    <div class="container-fluid">
      <div class="row">
        <div class="col-12">
          {{ content }}

          <!-- Gallery Grid -->
          <div class="gallery-grid">
            {% for image in page.images %}
            <a
              href="{{ image.url }}"
              class="glightbox gallery-item"
              data-gallery="collection"
              data-title="{{ image.title }}"
              data-description="{{ image.description }}"
              data-sold="{% if image.sold %}true{% else %}false{% endif %}">
              <img
                src="{{ image.url }}"
                alt="{{ image.title }}"
                class="img-fluid" />
              {% if image.sold %}
              <div class="sold-badge">SOLD</div>
              {% endif %}
            </a>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    
    <!-- Collection Navigation CTAs -->
    <div class="container">
      <div class="row">
        <div class="col-12">
          <div class="collection-navigation">
            {% assign collections = "Birds,Modern Art,Past Works,Sets" | split: "," %}
            {% assign collection_urls = "/collections/birds/,/collections/modern-art/,/collections/past-works/,/collections/sets/" | split: "," %}
            {% assign current_index = -1 %}
            {% for collection in collections %}
              {% if collection == page.title %}
                {% assign current_index = forloop.index0 %}
              {% endif %}
            {% endfor %}
            
            <div class="nav-buttons">
              {% if current_index > 0 %}
                {% assign prev_index = current_index | minus: 1 %}
                <a href="{{ collection_urls[prev_index] }}" class="collection-nav-btn prev-collection">
                  <span class="nav-arrow">←</span>
                  <span class="nav-text">Previous Collection</span>
                </a>
              {% endif %}
              
              <a href="/collections/" class="collection-nav-btn all-collections">
                <span class="nav-text">View All Collections</span>
              </a>
              
              {% if current_index >= 0 and current_index < 3 %}
                {% assign next_index = current_index | plus: 1 %}
                <a href="{{ collection_urls[next_index] }}" class="collection-nav-btn next-collection">
                  <span class="nav-text">Next Collection</span>
                  <span class="nav-arrow">→</span>
                </a>
              {% endif %}
            </div>
          </div>
        </div>
      </div>
    </div>
  </article>

  <hr />

  <!-- GLightbox CSS -->
  <link
    rel="stylesheet"
    href="{{ '/assets/vendor/glightbox.min.css' | relative_url }}" />

  <!-- GLightbox JS -->
  <script src="{{ '/assets/vendor/glightbox.min.js' | relative_url }}"></script>
  <script>
    function addBadgeOrButton(slideNode, isSold) {
      // Remove any existing badges/buttons
      const existingBadge = slideNode.querySelector('.lightbox-sold-badge');
      const existingButton = slideNode.querySelector('.lightbox-own-button');
      if (existingBadge) existingBadge.remove();
      if (existingButton) existingButton.remove();
      
      // Find the image container
      const imageContainer = slideNode.querySelector('.gslide-inner-content');
      if (!imageContainer) return;
      
      if (isSold) {
        // Add SOLD badge
        const soldBadge = document.createElement('div');
        soldBadge.className = 'lightbox-sold-badge';
        soldBadge.textContent = 'SOLD';
        imageContainer.appendChild(soldBadge);
      } else {
        // Add "Own this" button
        const ownButton = document.createElement('a');
        ownButton.className = 'lightbox-own-button';
        ownButton.href = '/contact.html';
        ownButton.textContent = 'Own this';
        imageContainer.appendChild(ownButton);
      }
    }
    
    const lightbox = GLightbox({
      touchNavigation: true,
      loop: true,
      autoplayVideos: true,
      zoomable: true,
      draggable: true,
      onSlideChange: function({ prev, current }) {
        // Get the original element that was clicked
        const originalElement = document.querySelectorAll('.glightbox')[current.index];
        const isSold = originalElement.getAttribute('data-sold') === 'true';
        
        // Wait for slide to be rendered
        setTimeout(() => {
          const slideNode = document.querySelector('.gslide.current');
          if (slideNode) {
            addBadgeOrButton(slideNode, isSold);
          }
        }, 100);
      },
      onOpen: function() {
        // Handle initial slide when lightbox opens
        setTimeout(() => {
          const currentSlide = lightbox.activeSlide;
          if (currentSlide !== null) {
            const originalElement = document.querySelectorAll('.glightbox')[currentSlide];
            const isSold = originalElement.getAttribute('data-sold') === 'true';
            const slideNode = document.querySelector('.gslide.current');
            if (slideNode) {
              addBadgeOrButton(slideNode, isSold);
            }
          }
        }, 100);
      }
    });
  </script>

  <style>
    .gallery-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 20px;
      margin-top: 40px;
      margin-bottom: 60px;
    }

    .gallery-item {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      transition: transform 0.3s ease;
    }

    .gallery-item:hover {
      transform: translateY(-5px);
    }

    .gallery-item img {
      width: 100%;
      height: auto;
      display: block;
      transition: opacity 0.3s ease, box-shadow 0.3s ease;
      border-radius: 4px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
    }

    .gallery-item:hover img {
      opacity: 0.9;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    }

    .gallery-item:hover img {
      opacity: 0.9;
    }

    .sold-badge {
      position: absolute;
      top: 10px;
      right: 10px;
      background: #df00fe;
      color: #fff;
      padding: 5px 15px;
      font-size: 14px;
      font-weight: bold;
      border-radius: 4px;
      text-shadow: none;
    }
    
    /* Lightbox SOLD badge */
    .lightbox-sold-badge {
      position: absolute;
      top: 20px;
      right: 20px;
      background: #df00fe;
      color: #fff;
      padding: 10px 25px;
      font-size: 18px;
      font-weight: bold;
      border-radius: 6px;
      text-shadow: none;
      z-index: 10000;
    }
    
    /* Lightbox "Own this" button */
    .lightbox-own-button {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: #2CFF05;
      color: #000;
      padding: 12px 40px;
      font-size: 18px;
      font-weight: bold;
      font-family: 'Humane', sans-serif;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      border-radius: 6px;
      text-shadow: none;
      text-decoration: none;
      z-index: 10000;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(44, 255, 5, 0.4);
    }
    
    .lightbox-own-button:hover {
      background: #f4bbff;
      color: #000;
      transform: translateX(-50%) translateY(-3px);
      box-shadow: 0 6px 20px rgba(244, 187, 255, 0.6);
    }

    @media (max-width: 768px) {
      .gallery-grid {
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 15px;
      }
    }
    
    /* Collection Navigation CTAs */
    .collection-navigation {
      margin: 60px 0 40px;
      padding: 40px 0;
      border-top: 1px solid rgba(244, 187, 255, 0.2);
    }
    
    .nav-buttons {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    .collection-nav-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 0;
      height: 116px;
      width: 100%;
      max-width: 350px;
      background: #000;
      border: 3px solid #2CFF05;
      color: #2CFF05;
      text-decoration: none;
      font-family: 'Humane', sans-serif;
      font-weight: 400;
      font-size: 3.6rem;
      letter-spacing: 0.0525em;
      text-transform: uppercase;
      border-radius: 8px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    
    .collection-nav-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: #2CFF05;
      transition: left 0.3s ease;
      z-index: -1;
    }
    
    .collection-nav-btn:hover {
      color: #000;
      border-color: #2CFF05;
      transform: translateY(-3px);
      box-shadow: 0 8px 25px rgba(44, 255, 5, 0.4);
    }
    
    .collection-nav-btn:hover::before {
      left: 0;
    }
    
    .collection-nav-btn.all-collections {
      border-color: #f4bbff;
      color: #f4bbff;
    }
    
    .collection-nav-btn.all-collections::before {
      background: #f4bbff;
    }
    
    .nav-arrow {
      font-size: 3.6rem;
      font-weight: 700;
      line-height: 1;
    }
    
    .nav-text {
      line-height: 1;
    }
    
    @media (max-width: 768px) {
      .nav-buttons {
        flex-direction: column;
        gap: 20px;
      }
      
      .collection-nav-btn {
        width: 90%;
        max-width: 400px;
        height: 102px;
        font-size: 2.88rem;
      }
      
      .nav-arrow {
        font-size: 2.88rem;
      }
    }
  </style>
</header>
